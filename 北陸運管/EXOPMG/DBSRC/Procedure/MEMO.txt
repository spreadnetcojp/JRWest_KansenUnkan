for RIYO_DATA_C1


利用データの内容から割引1と割引2を導き出すための
一般化されたロジックは、どちらかというと下記の資料が
もとになると感じています。
<\\OEC900\JobSys011\1300_車改\0000_入手資料\20170203_IF資料>
別紙_券種別定義券および券種区分、集計券種.xlsx

もし、この資料が完全なものだとすると、これに、
取得パターン仕様書やその添付元メールから推測される
事項を加味して、下記のように実装すればよいのか
もしれないと考えています。

・運管サーバのDBにユーザ定義関数[ufn券種区分ForRiyoDataC1]を用意する。
　　この関数は、券種番号、料金券情報有無(Fトラック料金券区分の新幹線 == 1 か否か)
　　（とFトラック商品番号コード）、当駅有効券枚数を入力すると、
　　券種区分（乗車券、特急券、指定券、EXIC、IC定期券、MS特急券、
　　一葉回数券、その他、利用データなし...などの値があります）を返却する。

　　※ 「別紙_券種別定義券および券種区分、集計券種.xlsx」を
　　　ほぼそのまま実装した関数になると考えています。

　　※ この関数は、内部で静的なテーブル（M_TICKET_KIND_FOR_RIYO_DATA_C1）を
　　　参照することになると考えています。

・利用データの券読取情報ごとに、上記関数で「利用表示券種」を取得し、
　取得した値をもとに、割引コードを割引1や割引2に反映する。

　　(1) 良くわからないが、利用表示券種が「EXIC」になる券読取情報の
　　　割引コードは、「割引1」と「割引2」に入れる。

　　(2) 利用表示券種が「乗車券」になる券読取情報の
　　　割引コードは、「割引1」に入れる。

　　(3) 利用表示券種が上記以外になる券読取情報のうち、
　　　割引コードが00以外のものを「割引2」に入れる。

　　※ 割引1が２つ登場することは想定しないでよい。
　　※ 割引2が２つ登場することも想定しないでよい。

以上のような感じで実装してよろしいでしょうか？

(1)のルールなどは、「改札機通過データ取得パターン仕様書」に
記載されている結果から推測しているにすぎず、ほとんど根拠が
ありませんので、間違いなく確認が必要と思っています。
